<script>
  async function fetchVideoUrl() {
    const url = 'https://www.youtube.com/watch?v=y3B-G3c9T8E';  // Example URL

    try {
      // Fetch the video URL from the backend
      const response = await fetch(`/getVideoUrl?url=${encodeURIComponent(url)}`);
      
      if (!response.ok) {
        throw new Error('Failed to fetch video URL');
      }

      // Parse the JSON response
      const data = await response.json();

      // Use the video URL (for example, by updating an iframe src)
      const videoUrl = data.videoUrl;
      console.log('Video URL:', videoUrl);
      
      // Update the iframe (or video player)
      document.getElementById('videoPlayer').src = videoUrl;
    } catch (error) {
      console.error('Error fetching video URL:', error);
      alert('An error occurred while fetching the video URL');
    }
  }

  // Call the function to fetch the video URL
  fetchVideoUrl();
</script>
